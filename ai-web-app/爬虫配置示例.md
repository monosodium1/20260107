# 爬虫配置示例

## 示例1：百度搜索（最简单）

```
源名称：百度搜索
源类型：百度搜索
描述：百度搜索引擎
URL模板：https://www.baidu.com/s?wd={keyword}&pn={page}&ie=utf-8
请求方法：GET
状态：活跃
```

数据选择器（JSON格式）：
```json
{
  "type": "css",
  "selector": "div.result"
}
```

标题选择器：`h3.t a`
URL选择器：`h3.t a`
摘要选择器：`div.c-abstract, div.c-span-last`
图片选择器：（留空）

---

## 示例2：必应搜索

```
源名称：必应搜索
源类型：自定义爬虫
描述：微软必应搜索引擎
URL模板：https://cn.bing.com/search?q={keyword}&first={page}
请求方法：GET
状态：活跃
```

数据选择器（JSON格式）：
```json
{
  "type": "css",
  "selector": "li.b_algo"
}
```

标题选择器：`h2 a`
URL选择器：`h2 a`
摘要选择器：`p`
图片选择器：（留空）

---

## 示例3：360搜索

```
源名称：360搜索
源类型：自定义爬虫
描述：360搜索引擎
URL模板：https://www.so.com/s?q={keyword}&pn={page}
请求方法：GET
状态：活跃
```

数据选择器（JSON格式）：
```json
{
  "type": "css",
  "selector": "div.res-list"
}
```

标题选择器：`h3 a`
URL选择器：`h3 a`
摘要选择器：`p.res-desc`
图片选择器：（留空）

---

## 示例4：搜狗搜索

```
源名称：搜狗搜索
源类型：自定义爬虫
描述：搜狗搜索引擎
URL模板：https://www.sogou.com/web?query={keyword}&page={page}
请求方法：GET
状态：活跃
```

数据选择器（JSON格式）：
```json
{
  "type": "css",
  "selector": "div.results > div"
}
```

标题选择器：`h3 a`
URL选择器：`h3 a`
摘要选择器：`p`
图片选择器：（留空）

---

## 示例5：知乎搜索

```
源名称：知乎搜索
源类型：自定义爬虫
描述：知乎问答社区
URL模板：https://www.zhihu.com/search?q={keyword}&type=content
请求方法：GET
状态：活跃
```

请求头（JSON格式）：
```json
{
  "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
}
```

数据选择器（JSON格式）：
```json
{
  "type": "css",
  "selector": "div.List-item"
}
```

标题选择器：`a.ContentItem-title`
URL选择器：`a.ContentItem-title`
摘要选择器：`span.RichContent-innerText`
图片选择器：`img`

---

## 示例6：微博搜索

```
源名称：微博搜索
源类型：自定义爬虫
描述：新浪微博
URL模板：https://s.weibo.com/weibo?q={keyword}&page={page}
请求方法：GET
状态：活跃
```

请求头（JSON格式）：
```json
{
  "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
  "Referer": "https://weibo.com"
}
```

数据选择器（JSON格式）：
```json
{
  "type": "css",
  "selector": "div.card-wrap"
}
```

标题选择器：`p.from a`
URL选择器：`p.from a`
摘要选择器：`p[node-type='feed_list_content']`
图片选择器：`img`

---

## 示例7：豆瓣搜索

```
源名称：豆瓣搜索
源类型：自定义爬虫
描述：豆瓣社区
URL模板：https://www.douban.com/search?q={keyword}&start={page}
请求方法：GET
状态：活跃
```

数据选择器（JSON格式）：
```json
{
  "type": "css",
  "selector": "div.result"
}
```

标题选择器：`h3 a`
URL选择器：`h3 a`
摘要选择器：`p`
图片选择器：`img`

---

## 示例8：今日头条搜索

```
源名称：今日头条搜索
源类型：自定义爬虫
描述：今日头条新闻
URL模板：https://www.toutiao.com/search?keyword={keyword}&offset={page}
请求方法：GET
状态：活跃
```

请求头（JSON格式）：
```json
{
  "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
}
```

数据选择器（JSON格式）：
```json
{
  "type": "css",
  "selector": "div.result"
}
```

标题选择器：`a.title`
URL选择器：`a.title`
摘要选择器：`p`
图片选择器：`img`

---

## 示例9：POST请求示例（假设的API）

```
源名称：某API搜索
源类型：自定义爬虫
描述：使用POST方法的API搜索
URL模板：https://api.example.com/search
请求方法：POST
状态：活跃
```

请求头（JSON格式）：
```json
{
  "Content-Type": "application/json",
  "Authorization": "Bearer your_token_here"
}
```

请求体模板（JSON格式）：
```json
{
  "keyword": "{keyword}",
  "page": {page},
  "size": 10
}
```

数据选择器（JSON格式）：
```json
{
  "type": "css",
  "selector": "div.result-item"
}
```

标题选择器：`h4.title`
URL选择器：`a.link`
摘要选择器：`p.description`
图片选择器：`img.thumbnail`

---

## 使用说明

1. 复制上面的配置信息
2. 在爬虫管理页面点击"新增源"
3. 粘贴对应的配置到相应字段
4. 点击"保存"
5. 创建任务并运行

---

## 注意事项

1. **分页参数**：不同网站的页码参数可能不同
   - 百度：`pn=0, 10, 20...`（每页10条）
   - 必应：`first=0, 10, 20...`
   - 360：`pn=1, 2, 3...`
   - 搜狗：`page=1, 2, 3...`

2. **请求头**：某些网站需要特定的请求头才能正常访问

3. **反爬机制**：部分网站可能有反爬机制，需要额外处理

4. **登录要求**：某些网站需要登录才能访问，需要配置Cookie

5. **动态加载**：使用JavaScript动态加载的网站可能需要特殊处理

---

## 调试技巧

如果爬取不到数据：

1. **检查URL**：手动访问URL，确认可以正常打开
2. **查看源代码**：在浏览器中右键"查看网页源代码"，确认HTML结构
3. **使用开发者工具**：按F12，查看实际的HTML结构
4. **简化选择器**：先使用简单的选择器测试，如 `div`、`a` 等
5. **检查请求头**：某些网站需要特定的请求头

---

## 常用CSS选择器

```
类选择器：.class-name
ID选择器：#id-name
标签选择器：div, a, h3
属性选择器：a[href]
子选择器：parent > child
后代选择器：parent child
多个类：div.class1.class2
```

---

## 分页计算

**百度搜索**：
- 第1页：pn=0
- 第2页：pn=10
- 第3页：pn=20
- 公式：pn = (page - 1) * 10

**必应搜索**：
- 第1页：first=0
- 第2页：first=10
- 第3页：first=20
- 公式：first = (page - 1) * 10

**360搜索**：
- 第1页：pn=1
- 第2页：pn=2
- 第3页：pn=3
- 公式：pn = page

**搜狗搜索**：
- 第1页：page=1
- 第2页：page=2
- 第3页：page=3
- 公式：page = page
